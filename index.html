<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Arya Stecu - Multifunction OS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --bg-dark: #070b14; --accent: #3b82f6; }
        body { background-color: var(--bg-dark); color: white; transition: 0.5s; font-family: sans-serif; height: 100vh; overflow: hidden; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.08); }
        .loading-screen { position: fixed; inset: 0; background: #000; z-index: 10000; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        .hidden { display: none !important; }
        .card { padding: 1.2rem; border-radius: 1.2rem; text-align: center; cursor: pointer; transition: 0.2s; border: 1px solid rgba(255,255,255,0.05); }
        .card:active { transform: scale(0.95); background: rgba(59, 130, 246, 0.2); }
        #app-area { height: calc(100vh - 80px); overflow-y: auto; padding: 1rem; padding-bottom: 100px; }
        video { width: 100%; border-radius: 1rem; background: #000; transform: scaleX(-1); }
        canvas { background: #111; border-radius: 10px; width: 100%; touch-action: none; }
        .badge-admin { background: linear-gradient(45deg, #ff0000, #ffcc00); color: black; font-size: 9px; font-weight: bold; padding: 1px 6px; border-radius: 4px; }
        .badge-member { background: #3b82f6; color: white; font-size: 9px; font-weight: bold; padding: 1px 6px; border-radius: 4px; }
    </style>
</head>
<body>

    <div id="loader" class="loading-screen">
        <div class="w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-4"></div>
        <h1 class="text-2xl font-black tracking-widest text-blue-500 italic">ARYA STECU</h1>
        <div id="load-text" class="mt-2 text-gray-500 text-[10px] uppercase font-mono">System Initializing...</div>
    </div>

    <div id="login-page" class="fixed inset-0 bg-black z-[9000] flex items-center justify-center p-6 hidden">
        <div class="glass p-8 rounded-3xl w-full max-w-sm border-blue-500/20 border">
            <div class="text-center mb-6">
                <div class="w-16 h-16 bg-blue-600 rounded-full mx-auto mb-3 flex items-center justify-center text-2xl font-bold">AS</div>
                <h2 class="text-xl font-bold">Arya Stecu OS</h2>
            </div>
            <input id="email" type="email" placeholder="Gmail" class="w-full bg-white/5 p-4 rounded-xl mb-3 outline-none border border-white/10 focus:border-blue-500">
            <input id="pass" type="password" placeholder="Password" class="w-full bg-white/5 p-4 rounded-xl mb-4 outline-none border border-white/10 focus:border-blue-500">
            <button onclick="auth()" class="w-full bg-blue-600 py-4 rounded-xl font-bold active:scale-95 transition">LOGIN / DAFTAR</button>
        </div>
    </div>

    <div id="main-app" class="hidden h-screen flex flex-col">
        <header class="h-20 flex justify-between items-center px-5 glass z-50">
            <div class="flex items-center gap-3">
                <button onclick="startVoice()" class="w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center shadow-lg"><i class="fas fa-microphone"></i></button>
                <span class="font-bold tracking-tighter text-sm">ARYA STECU</span>
            </div>
            <div class="flex items-center gap-2">
                <div class="text-right">
                    <p id="u-name" class="text-[10px] font-bold opacity-80"></p>
                    <div id="u-status"></div>
                </div>
                <div id="u-initial" class="w-9 h-9 rounded-full bg-indigo-600 flex items-center justify-center border border-white/20 font-bold"></div>
                <button onclick="toggleSide()" class="text-xl p-2"><i class="fas fa-bars-staggered"></i></button>
            </div>
        </header>

        <nav id="sidebar" class="fixed inset-y-0 right-[-100%] w-64 bg-slate-900 z-[100] transition-all duration-300 p-6 border-l border-white/10">
            <button onclick="toggleSide()" class="text-red-500 mb-8 font-bold text-sm">TUTUP MENU</button>
            <div class="space-y-5">
                <div onclick="go('home')" class="flex items-center gap-3"><i class="fas fa-th-large text-blue-500"></i> Dashboard</div>
                <div onclick="go('intro')" class="flex items-center gap-3"><i class="fas fa-info-circle text-purple-500"></i> Tujuan Web</div>
                <div onclick="go('sosmed')" class="flex items-center gap-3"><i class="fas fa-share-nodes text-green-500"></i> Sosmed</div>
                <div onclick="location.reload()" class="pt-10 text-red-400 border-t border-white/5"><i class="fas fa-power-off mr-2"></i> Keluar</div>
            </div>
        </nav>

        <main id="app-area">
            <div id="p-home" class="grid grid-cols-2 gap-3">
                <div class="card glass col-span-2 flex justify-between items-center">
                    <div class="text-left"><p class="text-[10px] text-gray-500">Waktu Sistem</p><p id="clock" class="text-lg font-bold">00:00:00</p></div>
                    <i class="fas fa-clock text-blue-400"></i>
                </div>
                <div class="card glass" onclick="openGame()"><i class="fas fa-gamepad text-2xl text-orange-500 mb-1"></i><br><small>Snake Game</small></div>
                <div class="card glass" onclick="openCalc()"><i class="fas fa-calculator text-2xl text-blue-400 mb-1"></i><br><small>Kalkulator</small></div>
                <div class="card glass" onclick="openNote()"><i class="fas fa-sticky-note text-2xl text-yellow-400 mb-1"></i><br><small>Catatan</small></div>
                <div class="card glass" onclick="openCam('waste')"><i class="fas fa-recycle text-2xl text-emerald-400 mb-1"></i><br><small>Cek Sampah</small></div>
                <div class="card glass" onclick="openCam('sign')"><i class="fas fa-hand-sparkles text-2xl text-pink-400 mb-1"></i><br><small>Isyarat AI</small></div>
                <div class="card glass" onclick="toggleFlash()"><i class="fas fa-bolt text-2xl text-white mb-1"></i><br><small>Flash</small></div>
                <div class="card glass" onclick="lockSys()"><i class="fas fa-lock text-2xl text-blue-600 mb-1"></i><br><small>Unlock</small></div>
                <div class="card glass bg-red-900/20" onclick="openForbidden()"><i class="fas fa-biohazard text-2xl text-red-500 mb-1"></i><br><small>Terlarang</small></div>
            </div>

            <div id="p-intro" class="hidden space-y-4">
                <h2 class="text-xl font-bold">Halo, Saya Arya</h2>
                <div class="glass p-5 rounded-2xl text-sm leading-relaxed border-l-2 border-blue-500">
                    Web ini adalah karya pertama saya untuk mempermudah akses alat digital dan memperkenalkan AI pendeteksi sampah organik/non-organik.
                </div>
            </div>

            <div id="p-sosmed" class="hidden space-y-4">
                <h2 class="text-xl font-bold">Kontak</h2>
                <div class="grid gap-3">
                    <a href="https://wa.me/082279079236" class="glass p-4 rounded-xl flex items-center gap-3"><i class="fab fa-whatsapp text-green-500"></i> 082279079236</a>
                    <div class="glass p-4 rounded-xl flex items-center gap-3"><i class="fab fa-instagram text-pink-500"></i> Arya soft spoken</div>
                </div>
            </div>
        </main>
    </div>

    <div id="modal" class="hidden fixed inset-0 bg-black z-[9999] p-4 flex flex-col">
        <div class="flex justify-between items-center mb-4">
            <h3 id="m-title" class="font-bold text-blue-400 uppercase text-xs tracking-widest">Tool</h3>
            <button onclick="closeModal()" class="text-red-500 text-xl font-bold">&times;</button>
        </div>
        <div id="m-content" class="flex-1 overflow-auto"></div>
    </div>

    <script>
        // DB SIMULASI
        const admins = ["akunffffasli@gmail.com", "akunmcmcaja@gmail.com"];
        let userEmail = "";

        // LOADING
        window.onload = () => {
            let p = 0;
            const iv = setInterval(() => {
                p += 5;
                if(p > 100) { 
                    clearInterval(iv); 
                    document.getElementById('loader').classList.add('hidden'); 
                    document.getElementById('login-page').classList.remove('hidden');
                }
            }, 50);
        };

        // AUTH
        function auth() {
            userEmail = document.getElementById('email').value.toLowerCase();
            const pass = document.getElementById('pass').value;
            if(!userEmail.includes('@') || pass.length < 1) return alert("Email/Password Salah");

            const isAdmin = admins.includes(userEmail);
            document.getElementById('u-name').innerText = userEmail.split('@')[0];
            document.getElementById('u-status').innerHTML = isAdmin ? `<span class="badge-admin">ADMIN</span>` : `<span class="badge-member">MEMBER</span>`;
            document.getElementById('u-initial').innerText = userEmail.charAt(0).toUpperCase();
            
            document.getElementById('login-page').classList.add('hidden');
            document.getElementById('main-app').classList.remove('hidden');
        }

        // CLOCK
        setInterval(() => { document.getElementById('clock').innerText = new Date().toLocaleTimeString('id-ID'); }, 1000);

        // NAVIGATION
        function toggleSide() { 
            const s = document.getElementById('sidebar');
            s.style.right = s.style.right === '0px' ? '-100%' : '0px';
        }
        function go(page) {
            ['p-home', 'p-intro', 'p-sosmed'].forEach(id => document.getElementById(id).classList.add('hidden'));
            document.getElementById('p-' + page).classList.remove('hidden');
            toggleSide();
        }

        // TOOLS
        function closeModal() {
            document.getElementById('modal').classList.add('hidden');
            document.getElementById('m-content').innerHTML = "";
            if(window.stream) window.stream.getTracks().forEach(t => t.stop());
        }

        function openCalc() {
            const m = document.getElementById('modal');
            document.getElementById('m-title').innerText = "Kalkulator";
            document.getElementById('m-content').innerHTML = `
                <div class="bg-gray-800 p-4 rounded-2xl">
                    <input id="calc-v" class="w-full text-3xl bg-transparent text-right mb-4 outline-none" readonly value="0">
                    <div class="grid grid-cols-4 gap-2">
                        ${['7','8','9','/','4','5','6','*','1','2','3','-','C','0','=','+'].map(b => `<button onclick="doCalc('${b}')" class="p-4 bg-white/10 rounded-xl font-bold">${b}</button>`).join('')}
                    </div>
                </div>`;
            m.classList.remove('hidden');
        }

        window.doCalc = (b) => {
            const v = document.getElementById('calc-v');
            if(b === 'C') v.value = "0";
            else if(b === '=') try { v.value = eval(v.value) } catch { v.value = "Error" }
            else v.value = v.value === '0' ? b : v.value + b;
        };

        function openNote() {
            const saved = localStorage.getItem('arya_note') || "";
            document.getElementById('m-title').innerText = "Catatan";
            document.getElementById('m-content').innerHTML = `<textarea id="nt" class="w-full h-64 bg-white/5 p-4 rounded-xl outline-none" oninput="localStorage.setItem('arya_note', this.value)">${saved}</textarea>`;
            document.getElementById('modal').classList.remove('hidden');
        }

        // GAME SNAKE (WORK)
        function openGame() {
            document.getElementById('m-title').innerText = "Snake Game";
            document.getElementById('m-content').innerHTML = `<canvas id="snake" width="300" height="300"></canvas><p class="text-center mt-4 text-xs text-gray-500">Gunakan usap layar untuk arah</p>`;
            document.getElementById('modal').classList.remove('hidden');
            startSnake();
        }

        function startSnake() {
            const canvas = document.getElementById('snake');
            const ctx = canvas.getContext('2d');
            let box = 15, snake = [{x: 9*box, y: 10*box}], dir = "R", food = {x: Math.floor(Math.random()*19)*box, y: Math.floor(Math.random()*19)*box};
            
            // Touch Control
            let touchX, touchY;
            canvas.addEventListener('touchstart', e => { touchX = e.touches[0].clientX; touchY = e.touches[0].clientY; });
            canvas.addEventListener('touchend', e => {
                let dx = e.changedTouches[0].clientX - touchX, dy = e.changedTouches[0].clientY - touchY;
                if(Math.abs(dx) > Math.abs(dy)) dir = dx > 0 ? "R" : "L";
                else dir = dy > 0 ? "D" : "U";
            });

            const game = setInterval(() => {
                ctx.fillStyle = "#111"; ctx.fillRect(0,0,300,300);
                ctx.fillStyle = "red"; ctx.fillRect(food.x, food.y, box, box);
                for(let i=0; i<snake.length; i++) { ctx.fillStyle = i==0?"#3b82f6":"#1e3a8a"; ctx.fillRect(snake[i].x, snake[i].y, box, box); }
                
                let head = {x: snake[0].x, y: snake[0].y};
                if(dir=="U") head.y -= box; if(dir=="D") head.y += box;
                if(dir=="L") head.x -= box; if(dir=="R") head.x += box;

                if(head.x == food.x && head.y == food.y) food = {x: Math.floor(Math.random()*19)*box, y: Math.floor(Math.random()*19)*box};
                else snake.pop();

                if(head.x < 0 || head.y < 0 || head.x >= 300 || head.y >= 300) return clearInterval(game), alert("Game Over!");
                snake.unshift(head);
            }, 150);
        }

        // CAMERA AI
        async function openCam(t) {
            document.getElementById('m-title').innerText = t === 'waste' ? 'Deteksi Sampah' : 'Bahasa Isyarat';
            document.getElementById('m-content').innerHTML = `<video id="v" autoplay playsinline></video><div id="lb" class="mt-4 p-4 glass rounded-xl text-center font-bold text-blue-400">MEMINDAI...</div>`;
            document.getElementById('modal').classList.remove('hidden');
            const stream = await navigator.mediaDevices.getUserMedia({video: {facingMode: "environment"}});
            window.stream = stream;
            document.getElementById('v').srcObject = stream;
            setTimeout(() => {
                document.getElementById('lb').innerText = t === 'waste' ? "HASIL: SAMPAH NON-ORGANIK (PLASTIK)" : "TERTULIS: 'HALO APA KABAR?'";
            }, 3000);
        }

        // SECRETS
        function lockSys() { 
            const p = prompt("Masukkan Sandi:");
            if(p === "openy") alert("Sistem Unlocked!"); else document.body.innerHTML = "<div class='flex h-screen items-center justify-center bg-black text-red-500'>AKSES DITOLAK</div>";
        }
        function openForbidden() {
            if(prompt("Sandi Terlarang:") === "openy") alert("Selamat Datang di Area Rahasia Arya Stecu.");
        }
        
        function toggleFlash() {
            alert("Mencoba mengaktifkan Senter...");
            navigator.mediaDevices.getUserMedia({video: {facingMode: 'environment', torch: true}}).catch(() => alert("Fitur Senter tidak didukung browser ini."));
        }

        function startVoice() {
            const Rec = window.SpeechRecognition || window.webkitSpeechRecognition;
            if(!Rec) return alert("Browser tidak mendukung suara.");
            const r = new Rec(); r.start();
            r.onresult = (e) => {
                if(e.results[0][0].transcript.toLowerCase().includes("tema")) {
                    document.body.classList.toggle('bg-white');
                    document.body.style.color = document.body.classList.contains('bg-white') ? 'black' : 'white';
                }
            };
        }
    </script>
</body>
</html>
